<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Bal Yem 31</title>
<style>
  :root{--bg:#101820;--card:#1c2a35;--ink:#f7f8fa;--muted:#b9c3cc;--ok:#27ae60;--warn:#ffb703;--bad:#e74c3c;--info:#2d6cdf}
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Arial,sans-serif}
  .wrap{max-width:820px;margin:0 auto;padding:14px}
  .panel{background:var(--card);border-radius:14px;padding:14px;box-shadow:0 12px 28px rgba(0,0,0,.25)}
  h1{margin:8px 0 14px;font-size:clamp(22px,4.5vw,28px)} h2{margin:8px 0 10px;font-size:18px;color:var(--muted)}
  input,button,select{border:none;border-radius:10px;padding:12px;font-size:16px}
  input,select{width:100%;background:#15212a;color:#fff}
  button{cursor:pointer;font-weight:700}
  .row{display:flex;gap:8px;flex-wrap:wrap}
  .primary{background:var(--info);color:#fff} .good{background:var(--ok);color:#111}
  .ghost{background:#243545;color:#fff} .bad{background:var(--bad);color:#fff}
  .pill{display:inline-block;background:#15212a;border-radius:999px;padding:6px 10px;font-size:12px;margin-right:6px}
  .grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-top:10px}
  .num{aspect-ratio:2/2.6;background:#fff;color:#e74c3c;border:3px solid #e74c3c;border-radius:14px;
        font-weight:800;font-size:clamp(22px,5.5vw,34px);display:flex;align-items:center;justify-content:center;
        box-shadow:0 10px 24px rgba(0,0,0,.25)}
  .num.taken{background:#ffeaea} .num.me{outline:3px solid var(--ok)}
  .num.disabled{opacity:.45;filter:grayscale(50%);pointer-events:none}
  .players{display:flex;flex-wrap:wrap;gap:8px}
  .chip{background:#15212a;border-radius:999px;padding:6px 10px;font-size:12px;display:flex;gap:8px;align-items:center}
  .chip.me{outline:2px solid var(--ok)}
  .chip.dead{opacity:.5;text-decoration:line-through}
  .dot{width:10px;height:10px;border-radius:50%;background:var(--warn)}
  .dot.ready{background:var(--ok)}
  .muted{color:var(--muted);font-size:13px}
  .tag{background:#0f1620;color:#fff;border-radius:8px;padding:6px 10px;font-weight:800}
  .tag.turn{background:var(--warn);color:#111}
  .center{display:flex;align-items:center;justify-content:center}
  .hidden{display:none}
  /* splash */
  #splash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0d141c;z-index:9999;font-weight:900;letter-spacing:2px;font-size:clamp(28px,8vw,48px)}
</style>
</head>
<body>
<div id="splash">BAL YEM 31</div>

<div class="wrap">
  <!-- LOBBY -->
  <section id="lobby" class="panel hidden">
    <h1>Bal Yem 31</h1>
    <div class="row">
      <input id="nameInput" placeholder="Kullanıcı adın (örn: İbrahim)"/>
      <button id="openRoomBtn" class="primary">Oda Aç</button>
    </div>
    <h2>Açık Odalar</h2>
    <div id="roomList" class="row"></div>
    <div class="muted" style="margin-top:10px">Oda açınca sistem <b>oda-1, oda-2 …</b> şeklinde ad verir. Oyuncular listeden <b>Katıl</b> deyip girer.</div>
  </section>

  <!-- ROOM -->
  <section id="room" class="panel hidden">
    <div class="row" style="justify-content:space-between;align-items:center">
      <h1 id="roomTitle">Oda</h1>
      <div class="row" style="gap:6px">
        <span id="stateTag" class="pill">Bekleme</span>
        <span id="turnTag" class="pill">—</span>
        <span id="aliveTag" class="pill">Canlı: 0</span>
      </div>
    </div>

    <div id="players" class="players"></div>

    <div id="secretArea" class="row" style="margin:10px 0">
      <select id="secretSelect"></select>
      <button id="saveSecretBtn" class="primary">Gizli Sayıyı Kaydet</button>
      <span id="mySecretInfo" class="pill hidden"></span>
    </div>

    <div class="row" style="margin:6px 0">
      <button id="readyBtn" class="good">Hazırım</button>
      <button id="unreadyBtn" class="ghost hidden">Hazır Değilim</button>
      <button id="startBtn" class="primary hidden">Başlat (sadece ilk giren)</button>
      <button id="leaveBtn" class="bad">Odadan Çık</button>
    </div>

    <div id="grid" class="grid"></div>
  </section>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<!-- Oyun -->
<script src="./game.js?v=11"></script>
</body>
</html>
